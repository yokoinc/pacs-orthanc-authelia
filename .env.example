# =============================================================================
# PACS STACK ENVIRONMENT CONFIGURATION
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=orthanc
POSTGRES_USER=orthanc
# IMPORTANT: Change this password in production\!
POSTGRES_PASSWORD=change_this_password_in_production

# =============================================================================
# AUTH SERVICE CONFIGURATION
# =============================================================================
AUTH_USERNAME=share-user
# IMPORTANT: Change this password in production\!
AUTH_PASSWORD=change_this_password_in_production
LOG_LEVEL=WARNING
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# Token Configuration
DEFAULT_TOKEN_MAX_USES=50
DEFAULT_TOKEN_VALIDITY_SECONDS=604800
CACHE_VALIDITY_USER_SESSION=300
CACHE_VALIDITY_SHARE_TOKEN=60
UNLIMITED_TOKEN_DURATION=31536000

# Audit Configuration
AUDIT_RETENTION_DAYS=90

# JavaScript Configuration
JS_REFRESH_INTERVAL=30000
JS_API_BASE=
JS_DEBUG_MODE=false

# UI Messages (French)
UI_MSG_INVALID_TOKEN=Aucun token fourni.
UI_MSG_EXPIRED_TOKEN=Ce lien de partage n'est plus valide.
UI_MSG_NO_STUDY=Aucune étude associée à ce token.
UI_MSG_INVALID_STUDY=Identifiant d'étude manquant.
UI_MSG_USAGE_LIMIT=Ce lien de partage a atteint sa limite d'utilisation.

# CDN Configuration
FONT_AWESOME_CDN=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css

# =============================================================================
# AUTHELIA CONFIGURATION
# =============================================================================
TZ=Europe/Paris

# CRITICAL SECURITY SECRETS - Generate with: openssl rand -base64 48
# Minimum 64 characters required for each secret
AUTHELIA_SESSION_SECRET=change_this_very_important_session_secret_in_production_minimum_64_chars
AUTHELIA_STORAGE_ENCRYPTION_KEY=change_this_very_important_encryption_key_in_production_minimum_64_chars
AUTHELIA_JWT_SECRET=change_this_very_important_jwt_secret_in_production_minimum_64_chars

# Optional Authelia configuration
AUTHELIA_DOMAIN=pacs.example.com
AUTHELIA_LOG_LEVEL=info

# =============================================================================
# OHIF CONFIGURATION
# =============================================================================
OHIF_PUBLIC_URL=/ohif/
OHIF_HTTPS=true

# =============================================================================
# NGINX CONFIGURATION
# =============================================================================
NGINX_EXTERNAL_PORT=30080
EOF < /dev/null