# PAX-MA-STACK - Variables d'environnement
# Copiez ce fichier vers .env et modifiez les valeurs selon votre configuration

# ===============================================
# VARIABLES CRITIQUES - ESSENTIELLES AU FONCTIONNEMENT
# ===============================================

# Configuration PostgreSQL (OBLIGATOIRE)
POSTGRES_DB=orthanc
POSTGRES_USER=orthanc
POSTGRES_PASSWORD=changeme_in_production_STRONG_PASSWORD

# Configuration des utilisateurs d'authentification (OBLIGATOIRE)
AUTH_USERNAME=admin
AUTH_PASSWORD=changeme_in_production_STRONG_PASSWORD

# Configuration réseau (OBLIGATOIRE)
NGINX_EXTERNAL_PORT=80
OHIF_PUBLIC_URL=/ohif/
OHIF_HTTPS=false

# Configuration du domaine (OBLIGATOIRE)
DOMAIN=localhost
TZ=Europe/Paris

# ===============================================
# CONFIGURATION REDIS
# ===============================================

# Configuration Redis pour sessions et tokens
REDIS_HOST=pax-redis
REDIS_PORT=6379
REDIS_DB=0

# ===============================================
# CONFIGURATION DES TOKENS
# ===============================================

# Limite d'utilisation des tokens
DEFAULT_TOKEN_MAX_USES=50

# Durée de validité des tokens (en secondes)
DEFAULT_TOKEN_VALIDITY_SECONDS=7200

# Validité du cache des sessions utilisateur (en secondes)
CACHE_VALIDITY_USER_SESSION=3600

# Validité du cache des tokens de partage (en secondes)
CACHE_VALIDITY_SHARE_TOKEN=7200

# Durée des tokens illimités (en secondes)
UNLIMITED_TOKEN_DURATION=86400

# ===============================================
# CONFIGURATION D'AUDIT
# ===============================================

# Rétention des logs d'audit (en jours)
AUDIT_RETENTION_DAYS=90

# Niveau de logging (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ===============================================
# CONFIGURATION INTERFACE
# ===============================================

# CDN pour Font Awesome
FONT_AWESOME_CDN=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css

# ===============================================
# CONFIGURATION JAVASCRIPT
# ===============================================

# Intervalle de rafraîchissement de l'interface (en ms)
JS_REFRESH_INTERVAL=5000

# URL de base pour les appels API
JS_API_BASE=/auth/tokens

# Mode debug JavaScript (true/false)
JS_DEBUG_MODE=false

# ===============================================
# MESSAGES D'INTERFACE UTILISATEUR (Français)
# ===============================================

# Messages d'erreur pour les tokens
UI_MSG_INVALID_TOKEN="Token invalide ou expiré"
UI_MSG_EXPIRED_TOKEN="Ce token a expiré"
UI_MSG_NO_STUDY="Aucune étude trouvée pour ce token"
UI_MSG_INVALID_STUDY="Étude invalide ou inaccessible"
UI_MSG_USAGE_LIMIT="Limite d'utilisation atteinte"

# ===============================================
# CONFIGURATION OHIF
# ===============================================

# Configuration OHIF Viewer
OHIF_PUBLIC_URL=/ohif/
OHIF_HTTPS=false

# ===============================================
# CONFIGURATION AUTHELIA
# ===============================================

# Timezone pour Authelia
TZ=Europe/Paris

# ===============================================
# CONFIGURATION RÉSEAU AVANCÉE
# ===============================================

# Port externe pour Nginx
NGINX_EXTERNAL_PORT=80

# Domaine principal
DOMAIN=localhost

# Protocole (http/https)
PROTOCOL=http

# ===============================================
# CONFIGURATION MONITORING
# ===============================================

# Activation du monitoring (true/false)
MONITORING_ENABLED=true

# Port pour les métriques
MONITORING_PORT=9090

# ===============================================
# CONFIGURATION DÉVELOPPEMENT
# ===============================================

# Mode développement (true/false)
DEV_MODE=false

# Activation du debug (true/false)
DEBUG=false

# ===============================================
# NOTES IMPORTANTES
# ===============================================

# 1. Changez TOUS les mots de passe par défaut
# 2. Utilisez des mots de passe forts (> 12 caractères)
# 3. Configurez votre domaine réel en production
# 4. Activez HTTPS en production
# 5. Sauvegardez régulièrement votre configuration
# 6. Tout changement nécessite: docker-compose restart

# ===============================================
# DÉMARRAGE RAPIDE
# ===============================================

# 1. Copiez ce fichier: cp .env.example .env
# 2. Modifiez les valeurs critiques marquées OBLIGATOIRE
# 3. Lancez: docker-compose up -d
# 4. Accédez à: http://localhost:80

# ===============================================
# DOCUMENTATION
# ===============================================

# Documentation complète: README.md
# Configuration avancée: services/*/config/
# Logs: docker-compose logs [service]
# Support: https://github.com/votre-repo/pax-ma-stack

# ===============================================
# Version du fichier de configuration
# ===============================================
CONFIG_VERSION=1.0.0